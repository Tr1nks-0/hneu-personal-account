function redirectToStudentDisciplines(){var e=getStudentId(),t=$("#disciplineMark #course option:selected").val(),i=$("#disciplineMark #semester option:selected").val();window.location.href="/management/students/"+e+"/disciplines?course="+t+"&semester="+i}function getStudentId(){return $("#disciplineMark").data("student")}jQuery(document).ready(function(){$("#top-navbar-1").on("shown.bs.collapse",function(){$.backstretch("resize")}),$("#top-navbar-1").on("hidden.bs.collapse",function(){$.backstretch("resize")}),$('.registration-form input[type="text"], .registration-form textarea').on("focus",function(){$(this).removeClass("input-error")}),$(".registration-form").on("submit",function(e){$(this).find('input[type="text"], textarea').each(function(){""==$(this).val()?(e.preventDefault(),$(this).addClass("input-error")):$(this).removeClass("input-error")})}),$("#menu-toggle").click(function(e){e.preventDefault(),$("#wrapper").toggleClass("toggled")}),$(document).on("change",".btn-file :file",function(){var e=$(this),t=e.get(0).files?e.get(0).files.length:1,i=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[t,i])}),$(".btn-file :file").on("fileselect",function(e,t,i){var n=$(this).parents(".input-group").find(":text"),a=t>1?t+" files selected":i;n.length?n.val(a):a&&alert(a)}),$(".current-marks").click(function(){window.open("","marks-window"),$("#studentForm").submit()})}),$("#discipline #faculty").change(function(){var e=$("#discipline #faculty option:selected").val();window.location.href="/management/disciplines?facultyId="+e}),$("#discipline #speciality").change(function(){var e=$("#discipline #faculty option:selected").val(),t=$("#discipline #speciality option:selected").val();window.location.href="/management/disciplines?facultyId="+e+"&specialityId="+t}),$("#discipline #educationProgram").change(function(){var e=$("#discipline #faculty option:selected").val(),t=$("#discipline #speciality option:selected").val(),i=$("#discipline #educationProgram option:selected").val();window.location.href="/management/disciplines?facultyId="+e+"&specialityId="+t+"&educationProgramId="+i}),$("#discipline #course").change(function(){var e=$("#discipline #faculty option:selected").val(),t=$("#discipline #speciality option:selected").val(),i=$("#discipline #educationProgram option:selected").val(),n=$("#discipline #course option:selected").val(),a=$("#discipline #semester option:selected").val();window.location.href="/management/disciplines?facultyId="+e+"&specialityId="+t+"&educationProgramId="+i+"&course="+n+"&semester="+a}),$("#discipline #semester").change(function(){var e=$("#discipline #faculty option:selected").val(),t=$("#discipline #speciality option:selected").val(),i=$("#discipline #educationProgram option:selected").val(),n=$("#discipline #course option:selected").val(),a=$("#discipline #semester option:selected").val();window.location.href="/management/disciplines?facultyId="+e+"&specialityId="+t+"&educationProgramId="+i+"&course="+n+"&semester="+a}),$(".delete-discipline").click(function(){var e=$(this).data("discipline"),t=$(this).closest("tr");$.post("/management/disciplines/"+e+"/delete").done(function(){t.fadeOut(300,function(){$(this).remove(),$(".delete-discipline").length||$(".disciplines-management-panel").html("Нічого не знайдено")})}).fail(function(){$("<div />",{class:"alert alert-error alert-dismissible",text:"Дисципліну не можна видалити так, як вона використовується"}).hide().fadeIn(300).insertAfter(".breadcrumb"),$(".alert-error").delay(2e3).fadeOut(300,function(){$(this).remove()})})}),$("#educationProgram #faculty").change(function(){var e=$("#educationProgram #faculty option:selected").val();window.location.href="/management/education-programs?facultyId="+e}),$("#educationProgram #speciality").change(function(){var e=$("#educationProgram #faculty option:selected").val(),t=$("#educationProgram #speciality option:selected").val();window.location.href="/management/education-programs?facultyId="+e+"&specialityId="+t}),$(".delete-education-program").click(function(){var e=$(this).attr("education-program-id"),t=$(this).closest("tr");$.post("/management/education-programs/"+e+"/delete").done(function(){t.fadeOut(300,function(){$(this).remove(),$(".delete-education-program").length||$(".education-programs-management-panel").html("Нічого не знайдено")})}).fail(function(){$("<div />",{class:"alert alert-error alert-dismissible",text:"Напрям підготовка не можна видалити так, як він використовується"}).hide().fadeIn(300).insertAfter(".breadcrumb"),$(".alert-error").delay(2e3).fadeOut(300,function(){$(this).remove()})})}),$(".delete-faculty ").click(function(){var e=$(this).data("faculty"),t=$(this).closest("tr");$.post("/management/faculties/"+e+"/delete").done(function(){t.fadeOut(300,function(){$(this).remove(),$(".delete-faculty").length||$(".faculties-management-panel").html("Нічого не знайдено")})}).fail(function(){$("<div />",{class:"alert alert-error alert-dismissible",text:"Факультет не можна видалити так, як він використовується"}).hide().fadeIn(300).insertAfter(".breadcrumb"),$(".alert-error").delay(2e3).fadeOut(300,function(){$(this).remove()})})}),$("#group #faculty").change(function(){var e=$("#group #faculty option:selected").val();window.location.href="/management/groups?facultyId="+e}),$("#group #speciality").change(function(){var e=$("#group #faculty option:selected").val(),t=$("#speciality option:selected").val();window.location.href="/management/groups?facultyId="+e+"&specialityId="+t}),$("#group #educationProgram").change(function(){var e=$("#group #faculty option:selected").val(),t=$("#group #speciality option:selected").val(),i=$("#group #educationProgram option:selected").val();window.location.href="/management/groups?facultyId="+e+"&specialityId="+t+"&educationProgramId="+i}),$(".delete-groups").click(function(){var e=$(this).attr("group-id"),t=$(this).closest("tr");$.post("/management/groups/"+e+"/delete",function(){t.fadeOut(300,function(){$(this).remove(),$(".delete-groups").length||$(".disciplines-management-panel").html("<spring:message code='items.not.found'/>")})})}),$("#speciality #faculty").change(function(){var e=$("#speciality #faculty option:selected").val();window.location.href="/management/specialities?facultyId="+e}),$(".delete-speciality").click(function(){var e=$(this).data("speciality"),t=$(this).closest("tr");$.post("/management/specialities/"+e+"/delete").done(function(){t.fadeOut(300,function(){$(this).remove(),$(".delete-speciality").length||$(".specialities-management-panel").html("Нічого не знайдено")})}).fail(function(){$("<div />",{class:"alert alert-error alert-dismissible",text:"Спеціальність не можна видалити так, як вона використовується"}).hide().fadeIn(300).insertAfter(".breadcrumb"),$(".alert-error").delay(2e3).fadeOut(300,function(){$(this).remove()})})}),$("#disciplineMark #course").change(redirectToStudentDisciplines),$("#disciplineMark #semester").change(redirectToStudentDisciplines),$(".delete-student-discipline").click(function(){var e=getStudentId(),t=$(this).data("discipline");$.post("/management/students/"+e+"/disciplines/"+t+"/delete",function(){redirectToStudentDisciplines()})}),$("#save-student").click(function(){$("#student").submit()}),$("#delete-student").click(function(){var e=$(this).data("student"),t=$(this).data("group");$.post("/management/students/"+e+"/delete",function(){window.location.href="/management/students?groupId="+t})});